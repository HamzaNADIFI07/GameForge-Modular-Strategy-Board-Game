package batimentTypeTests;

import static org.junit.jupiter.api.Assertions.*;

import java.util.Map;

import tuile.type_tuile.Paturage;
import batiment.type_batiment.Exploitation;
import batiment.type_batiment.Ferme;
import ressource.enumRessource;

import org.junit.jupiter.api.Test;
import tuile.Tuile;

public class ExploitationTest {

	@Test
	//verifie que l'exploitation est créer et associé à la bonne tuile
	public void testExploitationCreation() {
		Tuile paturageTuile = new Paturage(2, 2);
		Ferme ferme = new Ferme(paturageTuile);
		paturageTuile.setBatiment(ferme); 
		Exploitation exploitation = new Exploitation(paturageTuile);
		assertNotNull(exploitation);
		assertEquals("Exploitation", exploitation.getType());
		assertEquals(paturageTuile, exploitation.getTuile());
	}
	@Test
	public void testExploitationCout() {
		Tuile paturageTuile = new Paturage(2, 2);
		Ferme ferme = new Ferme(paturageTuile);
		paturageTuile.setBatiment(ferme);
		Exploitation exploitation = new Exploitation(paturageTuile);
		Map<enumRessource, Integer> cout = exploitation.getCout();
		assertEquals(2, cout.get(enumRessource.Bois), "Une exploitation coûte 2 bois");
		assertEquals(1, cout.get(enumRessource.Ble), "Une exploitation coûte 1 blé");
		assertEquals(1, cout.get(enumRessource.Moutons), "Une exploitation coûte 1 mouton");
	}

}
